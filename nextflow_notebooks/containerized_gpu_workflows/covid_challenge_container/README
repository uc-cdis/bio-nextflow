The algorithm to test this challenge can be found under https://github.com/MIDRC/COVID19_Challenges/tree/main/Challenge_2022_COVIDx/Winning%20Challenge%20Submissions
Click on download under the winner to download all files
Note that the code expects chest X-ray DICOM images in its 'in' directory when it actually works. It will output a single csv file in its 'out' directory with a score for each image

We have modified the inference.py entrypoint python code to make it more argument friendly and run in a containerized nextflow workflow. The modified file is called "inference_modified_for_batch.py" and this is the code that will be containerized

To build the container, please run docker build command on the Dockerfile, in the same directory where all the model files, code, Dockerfile and requirements.txt file lives. Then push the container to Gen3 staging by requesting credentials, get it approved and receive a docker URI to plug into the nextflow workflow.

To run the container in the nextflow workflow, paste the approved docker URI received from Gen3 in the "container" section of the nextflow config. This lives in the nextflow workflow notebook (midrc_gpu_batch_test_template.ipynb). Run the notebook in BRH to deploy the container on AWS batch 
